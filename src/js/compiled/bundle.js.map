{"version":3,"sources":["webpack:///webpack/bootstrap ee2df96ecde8ea6308ed","webpack:///./src/js/index.js","webpack:///./src/js/table.js"],"names":["MainModule","workers","dataPages","dataSortMethod","getJSONData","fetch","then","response","json","saveData","data","sortData","resetPreviousData","clearTable","key","sortMethod","sort","a","b","splitDataToPages","addDataToTable","workersArr","length","mappingIterator","map","indexOf","worker","newPage","push","pagination","pages","addEventListener","e","target","dataset","page","pageNumber","parseInt","header","sortBy","TableModule","tableElements","document","querySelector","body","tableProperties","totalPages","actualPage","sortedBy","updateProperties","newProperies","workersData","innerHTML","tbodyFragment","createDocumentFragment","tableRows","createTableRow","appendChild","createTableCell","workerObj","tableCells","hasOwnProperty","dataValue","cell","createElement","textContent","row","childElementCount","emptyRow","createEmptyRow","id","firstName","lastName","dateOfBirth","company","note","dataArr","pageButtons","classList","add","backButton","createBackNextButton","nextButton","pagesList","createNumberButtons","text","listItem","anchor","forEach","numberElement","element"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ee2df96ecde8ea6308ed","import TableModule from \"./table\";\r\n\r\n\r\nconst MainModule = (function () {\r\n\r\n    let workers = [];\r\n    let dataPages = [];\r\n    let dataSortMethod;\r\n\r\n    const getJSONData = function () { // Fetch data from JSON file and same to \"offers\"\r\n        fetch('./dane.json')\r\n            .then(response => response.json())\r\n            .then(data => saveData(data));\r\n    };\r\n\r\n    const saveData = function(data) {\r\n        workers = data;\r\n        sortData(\"id\");\r\n    }\r\n\r\n    const resetPreviousData = function() {\r\n        TableModule.clearTable();\r\n        dataPages = [];\r\n    };\r\n\r\n    const sortData = function( key=\"id\", sortMethod=\"asc\") {\r\n        resetPreviousData();\r\n        dataSortMethod = sortMethod;\r\n\r\n        workers.sort((a, b) => {\r\n            if(a[key] < b[key]) {\r\n                return (sortMethod===\"asc\") ? 1 : -1;\r\n            } else if(a[key] > b[key]) {\r\n                return (sortMethod===\"asc\") ? -1 : 1;\r\n            }\r\n        });\r\n        splitDataToPages(workers);\r\n        TableModule.addDataToTable(dataPages[0]);\r\n    };\r\n\r\n    const splitDataToPages = function(workersArr) {\r\n        if(workers.length < 6) return;\r\n        let mappingIterator = -1;\r\n\r\n        workersArr.map(worker => {\r\n            if((workersArr.indexOf(worker) % 5) === 0) {\r\n                mappingIterator++;\r\n                const newPage = [];\r\n                dataPages.push(newPage);\r\n                dataPages[mappingIterator].push(worker);\r\n            } else {\r\n                dataPages[mappingIterator].push(worker);\r\n            }\r\n        });\r\n\r\n        TableModule.pagination(dataPages);\r\n    }\r\n\r\n    TableModule.pages.addEventListener(\"click\", e => {\r\n        if(!e.target.dataset.page) return;\r\n        let pageNumber = e.target.dataset.page;\r\n        pageNumber = parseInt(pageNumber) - 1;\r\n        TableModule.addDataToTable(dataPages[pageNumber]);\r\n    });\r\n\r\n    TableModule.header.addEventListener(\"click\", e => {\r\n        if(!e.target.dataset.sort) return;\r\n        let sortBy = e.target.dataset.sort;\r\n        let sortMethod = (dataSortMethod === \"asc\") ? \"dsc\" : \"asc\";\r\n        sortData(sortBy, sortMethod);\r\n        TableModule.addDataToTable(dataPages[0]);\r\n    });\r\n\r\n    // return {\r\n\r\n    // };\r\n\r\n\r\n    getJSONData();\r\n\r\n})();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","\r\nconst TableModule = (function() {\r\n\r\n    const tableElements = {\r\n        header: document.querySelector(\"#header\"),\r\n        body: document.querySelector(\"#table-content\"),\r\n        pages: document.querySelector(\"#pages\")\r\n    }\r\n\r\n    let tableProperties = {\r\n        totalPages: 0,\r\n        actualPage: 0,\r\n        sortedBy: \"\",\r\n        sortMethod: \"\"\r\n    }\r\n\r\n    const updateProperties = function(newProperies) {\r\n        tableProperties = {\r\n            ...tableProperties,\r\n            ...newProperies\r\n        };\r\n    };\r\n\r\n    const addDataToTable = function(workersData) {\r\n        tableElements.body.innerHTML = \"\";\r\n        const tbodyFragment = document.createDocumentFragment();\r\n        const tableRows = createTableRow(workersData);\r\n        tbodyFragment.appendChild(tableRows);\r\n        tableElements.body.innerHTML = \"\";\r\n        tableElements.body.appendChild(tbodyFragment);\r\n    };\r\n    \r\n    const createTableCell = function(workerObj) {\r\n        const tableCells = document.createDocumentFragment();\r\n\r\n        for (const data in workerObj) {\r\n            if (workerObj.hasOwnProperty(data)) {\r\n                const dataValue = workerObj[data];\r\n                const cell = document.createElement(\"td\")\r\n                cell.textContent = dataValue;\r\n\r\n                tableCells.appendChild(cell);\r\n            }\r\n        }\r\n        return tableCells;\r\n    };\r\n\r\n    const createTableRow = function(workersArr) {\r\n        const tableRows = document.createDocumentFragment();\r\n\r\n        workersArr.map(worker => {\r\n            const row = document.createElement(\"tr\");\r\n            const tableCells = createTableCell(worker);\r\n            row.appendChild(tableCells);\r\n            tableRows.appendChild(row);\r\n        });\r\n\r\n        while(tableRows.childElementCount < 5) { //create empty rows to fill table by 5 elements\r\n            const emptyRow = createEmptyRow();\r\n            tableRows.appendChild(emptyRow);\r\n        }\r\n\r\n        return tableRows;\r\n    };\r\n\r\n    const createEmptyRow = function() {\r\n        const row = document.createElement(\"tr\");\r\n        const tableCells = createTableCell({\r\n            id: \"\",\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            dateOfBirth: \"\",\r\n            company: \"\",\r\n            note: \"\"\r\n        });\r\n        row.appendChild(tableCells);\r\n        return row;\r\n    }\r\n\r\n    const clearTable = function() {\r\n        tableElements.body.innerHTML = \"\";\r\n        tableElements.pages.innerHTML = \"\";\r\n    }\r\n\r\n    const pagination = function(dataArr) {\r\n        const pageButtons = document.createElement(\"ul\")\r\n        pageButtons.classList.add(\"pagination__pages\");\r\n        const backButton = createBackNextButton(\"\\< back\")\r\n        const nextButton = createBackNextButton(\"next \\>\");\r\n        const pagesList = createNumberButtons(dataArr)\r\n        \r\n        pageButtons.appendChild(backButton);\r\n        pageButtons.appendChild(pagesList);\r\n        pageButtons.appendChild(nextButton);\r\n\r\n        tableElements.pages.appendChild(pageButtons);\r\n    };\r\n\r\n    const createBackNextButton = function(text) {\r\n        const listItem = document.createElement(\"li\");\r\n        const anchor = document.createElement(\"a\");\r\n        anchor.textContent = text;\r\n        anchor.classList.add(\"pagination__pages--others\");\r\n        listItem.appendChild(anchor);\r\n        return listItem;\r\n    }\r\n\r\n    const createNumberButtons = function(dataArr) {\r\n        const pagesList = document.createDocumentFragment();\r\n\r\n        dataArr.forEach(element => {\r\n            const listItem = document.createElement(\"li\");\r\n            const numberElement = document.createElement(\"a\");\r\n            const pageNumber = dataArr.indexOf(element) + 1;\r\n\r\n            numberElement.textContent = `${pageNumber}`; \r\n            numberElement.dataset.page = `${pageNumber}`;\r\n            numberElement.classList.add(\"pagination__pages--numbers\");\r\n\r\n            listItem.appendChild(numberElement);\r\n            pagesList.appendChild(listItem);\r\n        });\r\n\r\n        return pagesList;\r\n    };\r\n\r\n    return {\r\n        header: tableElements.header,\r\n        body: tableElements.body,\r\n        pages: tableElements.pages,\r\n        addDataToTable,\r\n        pagination,\r\n        clearTable\r\n    };\r\n\r\n})();\r\n\r\nexport default TableModule;\n\n\n// WEBPACK FOOTER //\n// ./src/js/table.js"],"sourceRoot":""}